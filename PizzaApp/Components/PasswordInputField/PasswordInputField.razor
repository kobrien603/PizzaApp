@namespace PizzaApp.Components

@if (ShowConfirmPasswordField)
{
    <MudGrid>
        <MudItem xs="12" sm="6">
            <MudTextField @ref="PasswordField"
                T="string"
                @bind-Value="Password"
                Label="Password" 
                Variant="Variant.Text" 
                InputType="@PasswordInput" 
                Adornment="Adornment.End" 
                AdornmentIcon="@PasswordInputIcon" 
                OnAdornmentClick="TogglePasswordVisibility" 
                AdornmentAriaLabel="Show Password" 
                Validation="@(new Func<string, string?>(PasswordStrength))" 
                Required="true"
                RequiredError="Password is required!" 
            />
        </MudItem>
        <MudItem xs="12" sm="6">
            <MudTextField
                T="string"
                Label="Confirm Password"
                Variant="Variant.Text" 
                InputType="@PasswordInput" 
                Adornment="Adornment.End" 
                AdornmentIcon="@PasswordInputIcon" 
                OnAdornmentClick="TogglePasswordVisibility" 
                AdornmentAriaLabel="Show Password" 
                Validation="@(new Func<string, string?>(PasswordMatch))" 
                Required="true"
                RequiredError="Password is required!" 
            />
        </MudItem>
    </MudGrid>
}
else
{
    <MudTextField @ref="PasswordField"
        T="string"
        @bind-Value="Password"
        Label="Password" 
        Variant="Variant.Text" 
        InputType="@PasswordInput" 
        Adornment="Adornment.End" 
        AdornmentIcon="@PasswordInputIcon" 
        OnAdornmentClick="TogglePasswordVisibility" 
        AdornmentAriaLabel="Show Password" 
        Validation="@(new Func<string, string?>(PasswordStrength))" 
        Required="true"
        RequiredError="Password is required!" 
    />
}

