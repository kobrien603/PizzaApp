@namespace PizzaApp.Components

<MudGrid>
    @if (IsLoading)
    {
        <MudItem xs="12" Class="pa-10 d-flex align-self-center justify-center">
            <MudProgressCircular Color="Color.Success" Indeterminate="true" />
        </MudItem>
    }
    else
    {
        <MudItem xs="12" Class="pa-3">
            <MudGrid>
                <MudItem xs="12" sm="12" md="6" Class="d-flex align-self-center justify-md-start justify-center">
                    <h1>Account Info</h1>
                </MudItem>
                <MudItem xs="12" sm="12" md="6" Class="my-3">
                    <UploadProfilePicture Label="Profile Picture" ProfilePicture="@User.ProfilePicture" ReturnProfilePicture="SetProfilePicture" />
                </MudItem>
            </MudGrid>

            <MudGrid>
                <MudItem xs="12" Class="my-3 py-3">
                    <EditFieldComponent TItem="string" Name="First Name" @bind-Value="User.FirstName" />
                </MudItem>
            </MudGrid>
            <MudDivider />
            <MudGrid>
                <MudItem xs="12" Class="my-3 py-3">
                    <EditFieldComponent TItem="string" Name="Last Name" @bind-Value="User.LastName" />
                </MudItem>
            </MudGrid>
            <MudDivider />
            <MudGrid>
                <MudItem xs="12" Class="my-3 py-3">
                    <EditFieldComponent TItem="string" Name="Email" Value="User.Email" Disabled />
                </MudItem>
            </MudGrid>
            @*<MudDivider />
            <MudGrid>
                <MudItem xs="12" Class="my-3">
                    <EditFieldComponent TItem="DateTime?" Name="Date of Birth" @bind-Value="User.DateOfBirth" />
                </MudItem>
            </MudGrid>*@
            <MudDivider />
            <MudGrid>
                <MudItem xs="12" Class="my-3">
                    <EditFieldComponent TItem="string" Name="Phone Number" @bind-Value="User.PhoneNumber" />
                </MudItem>
            </MudGrid>

            <MudGrid>
                <MudItem xs="12" Class="mt-3 d-flex justify-sm-end justify-center">
                    <MudButton Disabled="@BtnSave" ButtonType="ButtonType.Button" OnClick="((e) => Save())" Variant="Variant.Filled" Color="Color.Primary" Class="px-10 py-1 flex-md-grow-0 flex-grow-1">
                        @if (BtnSave)
                        {
                            <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true" />
                            <MudText Class="ms-2">Processing</MudText>
                        }
                        else
                        {
                            <MudText>Save</MudText>
                        }
                    </MudButton>
                </MudItem>
            </MudGrid>
        </MudItem>
    }
</MudGrid>

